(this["webpackJsonpsaltilo-web"]=this["webpackJsonpsaltilo-web"]||[]).push([[0],{22:function(e,o,n){},42:function(e,o,n){"use strict";n.r(o);var t=n(2),c=n.n(t),l=n(17),i=n.n(l),s=(n(22),n(3)),u=n(7),a=n(8),r=n.n(a),g=n(1),d="784246624968-hv118aoq9sne0hpn133r0b1jatucqh9g.apps.googleusercontent.com";var j=function(){var e=Object(t.useState)("Loading..."),o=Object(s.a)(e,2),n=o[0],c=o[1],l=Object(t.useState)(null),i=Object(s.a)(l,2),a=i[0],j=i[1],b=Object(t.useState)(null),f=Object(s.a)(b,2),h=f[0],O=f[1],v=Object(t.useState)(null),p=Object(s.a)(v,2),L=p[0],x=p[1],m=function(e){console.log("loadControllers",e),c("Loading controllers..."),r.a.get("".concat("http://localhost:3000","/controllers"),{headers:{"x-googleid-token":e}}).then((function(e){O(e.data.device.map((function(e){return{name:e.name,state:e.state,deviceId:e.id}}))),c()}))};return Object(g.jsx)("div",{children:a?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"name",children:"Telldus Controller!"}),h&&h.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsxs)("button",{onClick:function(){return function(e,o){console.log("toggle",L);var n=function(e){return 2===e?"On":"Off"}(o);r.a.post("".concat("http://localhost:3000","/controllers/").concat(n,"/").concat(e),{},{headers:{"x-googleid-token":L}}).then((function(e){console.log("toggle",e),setTimeout((function(){console.log("Hello World"),m(L)}),2e3)})),console.log("toggle",e,o)}(e.deviceId,e.state)},children:[e.name," - ",(o=e.state,2===o?"Off":"On")]})},e.deviceId);var o})),Object(g.jsx)(u.GoogleLogout,{clientId:d,onLogoutSuccess:function(e){console.log("Logout Success ",e),j(null)},onFailure:function(e){console.log("Logout Failure ",e)}})]}):Object(g.jsx)(u.GoogleLogin,{clientId:d,buttonText:n,onSuccess:function(e){console.log("Login Success ",e),j(e.profileObj),x(e.tokenId),m(e.tokenId)},onFailure:function(e){console.log("Login Failure ",e),c()},onRequest:function(){c("Loading...")},onAutoLoadFinished:function(){c()},isSignedIn:!0})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(o){var n=o.getCLS,t=o.getFID,c=o.getFCP,l=o.getLCP,i=o.getTTFB;n(e),t(e),c(e),l(e),i(e)}))};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(j,{})}),document.getElementById("root")),b()}},[[42,1,2]]]);
//# sourceMappingURL=main.e8e1b3d2.chunk.js.map