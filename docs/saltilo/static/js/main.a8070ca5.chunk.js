(this["webpackJsonpsaltilo-web"]=this["webpackJsonpsaltilo-web"]||[]).push([[0],{22:function(e,n,o){},42:function(e,n,o){"use strict";o.r(n);var t=o(2),c=o.n(t),l=o(17),s=o.n(l),i=(o(22),o(3)),a=o(7),u=o(8),r=o.n(u),g=o(1),d="784246624968-hv118aoq9sne0hpn133r0b1jatucqh9g.apps.googleusercontent.com";var j=function(){var e=Object(t.useState)("Loading..."),n=Object(i.a)(e,2),o=n[0],c=n[1],l=Object(t.useState)(null),s=Object(i.a)(l,2),u=s[0],j=s[1],b=Object(t.useState)(null),f=Object(i.a)(b,2),h=f[0],O=f[1],p=Object(t.useState)(null),m=Object(i.a)(p,2),v=m[0],x=m[1],L=function(e){console.log("loadControllers",e),c("Loading controllers..."),r.a.get("".concat("https://0g3ehwrcch.execute-api.us-east-1.amazonaws.com","/controllers"),{headers:{"x-googleid-token":e}}).then((function(e){O(e.data.device.map((function(e){return{name:e.name,state:e.state,deviceId:e.id}}))),c()}))};return Object(g.jsx)("div",{children:u?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"name",children:"Telldus Controller!"}),h&&h.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsxs)("button",{onClick:function(){return function(e,n){console.log("toggle",v);var o=function(e){return 2===e?"On":"Off"}(n);r.a.post("".concat("https://0g3ehwrcch.execute-api.us-east-1.amazonaws.com","/controllers/").concat(o,"/").concat(e),{},{headers:{"x-googleid-token":v}}).then((function(e){console.log("toggle",e),setTimeout((function(){console.log("Hello World"),L(v)}),2e3)})),console.log("toggle",e,n)}(e.deviceId,e.state)},children:[e.name," - ",(n=e.state,2===n?"Off":"On")]})},e.deviceId);var n})),Object(g.jsx)(a.GoogleLogout,{clientId:d,onLogoutSuccess:function(e){console.log("Logout Success ",e),j(null)},onFailure:function(e){console.log("Logout Failure ",e)}})]}):Object(g.jsx)(a.GoogleLogin,{clientId:d,buttonText:o,onSuccess:function(e){console.log("Login Success ",e),j(e.profileObj),x(e.tokenId),L(e.tokenId)},onFailure:function(e){console.log("Login Failure ",e),c()},onRequest:function(){c("Loading...")},onAutoLoadFinished:function(){c()},isSignedIn:!0})})},b=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,43)).then((function(n){var o=n.getCLS,t=n.getFID,c=n.getFCP,l=n.getLCP,s=n.getTTFB;o(e),t(e),c(e),l(e),s(e)}))};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(j,{})}),document.getElementById("root")),b()}},[[42,1,2]]]);
//# sourceMappingURL=main.a8070ca5.chunk.js.map